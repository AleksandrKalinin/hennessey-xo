<!DOCTYPE html>
<html>
<head>
	<title>Task</title>
	<style type="text/css">
		body {
			margin: 0;
			padding: 0;
		}

		.container {
			width: 100%;
			height: 100vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
		}

		* {
			box-sizing: border-box;
		}
		.field {
			width: 300px;
			height: 300px;
			display: flex;
			flex-wrap: wrap;
		}
		.field-item {
			width: 100px;
			height: 100px;
			border: 1px solid #000;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 26px;
			transition: .1s ease;
		}

		.final-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100vh;
			display: none;
			justify-content: center;
			align-items: center;
			background: rgba(51,51,51, 0.8);			
		}

		.final-modal {
			width: 360px;
			height: 240px;
			display: flex;
			justify-content: center;
			align-items: center;
			text-align: center;
			background: #fff;
			font-size: 24px;
		}

		.lightblue {
			background: #009CB8;
		}

		.tomato {
			background: tomato;
		}
	</style>
</head>
<body>
	<div class="container">
		<h2>Ходит игрок <span id="player">1</span></h2>
		<section class="field">
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
			<div class="field__item field-item"></div>
		</section>	
		<div class="final-overlay" id="final">
			<div class="final-modal">
				<h3 class="final-modal__title">Поздравляем! Игрок <span id="winner"></span> победил</h3>
			</div>			
		</div>
	</div>
	<script type="text/javascript">
		var squares = document.getElementsByClassName('field-item');
		var modal = document.getElementById('modal');
		var currentSquare;
		var counter = 0;
		var winner;
		var currentPlayer = 1;
		
		for (var i = 0; i < squares.length; i++) {
			squares[i].addEventListener('click', function(e){
				if (!e.target.classList.contains('selected')) {
					currentSquare = e.target;
					counter++;
					checkExecution(counter);
					changePlayer(counter, currentSquare);
				}
				e.target.classList.add('selected');
			})
		}
	
		function selectItem() {

		}	

		var final = document.getElementById('final');
		var winner = document.getElementById('winner');
		var player = document.getElementById('player');

		function checkExecution(val) {
			if (val === 9) {
				winner.innerText = '1';
				final.style.display = 'flex';
			}
		}

		function changePlayer(count, field) {
			if (count%2 == 0) {
				player.innerText = '1';
				currentSquare.classList.add('lightblue');
				field.innerText = '0';
			} else {
				player.innerText = '2';
				currentSquare.classList.add('tomato');
				field.innerText = 'X';
			}
		}

	</script>
</body>
</html>